<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ß–ì–ö: –¢—É—Ä–Ω–∏—Ä (–∫–æ–º–∞–Ω–¥—ã)</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶â</text></svg>">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header class="header help-left" id="pageHeader">
      <button class="help-btn" onclick="openHelp()" title="–ü–æ–º–æ—â—å">‚ùì</button>
      <button class="collapse-btn header-collapse-btn" type="button" onclick="toggleHeaderCollapse()" title="–°–≤–µ—Ä–Ω—É—Ç—å">‚àí</button>
      <h1>ü¶â –ß–ì–ö: –¢—É—Ä–Ω–∏—Ä</h1>
      <nav class="header-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
        <a href="index.html">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a>
        <span class="header-nav-sep">|</span>
        <a href="peremeshki.html">–ü–µ—Ä–µ–º–µ—à–∫–∞</a>
        <span class="header-nav-sep">|</span>
        <a href="chgk.html" aria-current="page">–¢—É—Ä–Ω–∏—Ä</a>
        <span class="header-nav-sep">|</span>
        <a href="timer.html">–¢–∞–π–º–µ—Ä</a>
      </nav>
      <div class="header-body">
        <p class="subtitle">–í–≤–æ–¥ –∫–æ–º–∞–Ω–¥ –∏ —É—á—ë—Ç –æ—á–∫–æ–≤ –ø–æ —Ç—É—Ä–∞–º</p>
        <img class="page-main-image" src="chgk.png" alt="–ß–ì–ö: –¢—É—Ä–Ω–∏—Ä (–∫–æ–º–∞–Ω–¥—ã)">
      </div>
    </header>

    <div id="warningContainer" class="warning-container"></div>

    <div class="main-content">
      <!-- Teams Section -->
      <section class="section" id="teamsSection">
        <div class="section-header">
          <h2>–ö–æ–º–∞–Ω–¥—ã</h2>
          <button class="collapse-btn" onclick="toggleSection('teamsSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="player-input">
            <input type="text" id="teamNameInput" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã" class="input">
            <input type="color" id="teamColorInput" value="#3b82f6" class="color-input" title="–¶–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã">
            <button id="addTeamBtn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
          <div id="teamsList" class="players-list"></div>
        </div>
      </section>

      <!-- Settings / Round -->
      <section id="currentRoundSection" class="section">
        <div class="section-header">
          <h2 id="currentRoundTitle">–¢–µ–∫—É—â–∏–π —Ç—É—Ä</h2>
          <button class="collapse-btn" onclick="toggleSection('currentRoundSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div id="gameInfo" class="game-info"></div>
          <div class="round-header-bar">
            <div class="round-header-actions">
              <div class="settings-row" style="margin-bottom:0;">
                <label for="questionsPerRound">–í–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç—É—Ä–µ:</label>
                <input type="number" id="questionsPerRound" min="1" max="50" value="12" class="input-small">
              </div>
              <div class="settings-row" style="margin-bottom:0;">
                <label for="gameRoundsInput">–¢—É—Ä–æ–≤ –≤ –∏–≥—Ä–µ:</label>
                <input type="number" id="gameRoundsInput" min="1" max="50" value="5" class="input-small">
                <button id="startGameBtn" class="btn btn-secondary btn-small">üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
              </div>
              <button id="questionTimerBtn" class="btn btn-primary btn-small" style="display:none;">‚è±Ô∏è –í–æ–ø—Ä–æ—Å</button>
            </div>
          </div>

          <div id="currentRoundContainer" class="current-round-container"></div>
          <div class="actions" id="roundActions">
            <button id="startRoundBtn" class="btn btn-primary">–ù–∞—á–∞—Ç—å —Ç—É—Ä</button>
            <button id="finalizeRoundBtn" class="btn btn-success" style="display:none;">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç—É—Ä</button>
            <button id="saveEditedRoundBtn" class="btn btn-success" style="display:none;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            <button id="cancelEditRoundBtn" class="btn btn-secondary" style="display:none;">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </section>

      <!-- History -->
      <section class="section" id="historySection">
        <div class="section-header">
          <h2>–ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤</h2>
          <button class="collapse-btn" onclick="toggleSection('historySection')">‚àí</button>
        </div>
        <div class="section-body">
          <div id="roundsHistory" class="rounds-history"></div>
        </div>
      </section>

      <!-- Leaderboard -->
      <section class="section" id="leaderboardSection">
        <div class="section-header">
          <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
          <button class="collapse-btn" onclick="toggleSection('leaderboardSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div id="leaderboard" class="leaderboard"></div>
        </div>
      </section>

      <!-- Actions -->
      <section class="section" id="actionsSection">
        <div class="section-header">
          <h2>–î–µ–π—Å—Ç–≤–∏—è</h2>
          <button class="collapse-btn" onclick="toggleSection('actionsSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="actions">
            <button id="resetRoundsBtn" class="btn btn-warning">–°–±—Ä–æ—Å–∏—Ç—å —Ç—É—Ä—ã (–æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã)</button>
            <button id="exportBtn" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç</button>
            <button id="importBtn" class="btn btn-secondary">–ò–º–ø–æ—Ä—Ç</button>
            <button id="exportGameTsvBtn" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –∏–≥—Ä—ã (TSV)</button>
            <button id="exportGameTsvTransposeBtn" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –∏–≥—Ä—ã (TSV, —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä.)</button>
            <button id="resetBtn" class="btn btn-danger">–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å</button>
            <input type="file" id="importFile" accept=".json" style="display:none;">
          </div>
        </div>
      </section>
    </div>

    <footer class="footer">
      <p>–ß–ì–ö: –¢—É—Ä–Ω–∏—Ä (–∫–æ–º–∞–Ω–¥—ã) | (c) Alexander Galkin, Hamburg | –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä</p>
    </footer>
  </div>

  <!-- Help Modal -->
  <div class="modal-overlay" id="helpModal" style="display:none;" onclick="closeHelp()">
    <div class="modal-content help-modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</h2>
        <button class="modal-close" onclick="closeHelp()">&times;</button>
      </div>
      <div class="modal-body help-modal-body">
        <section class="help-section">
          <h3>1) üë• –ö–æ–º–∞–Ω–¥—ã</h3>
          <ul>
            <li><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ:</strong> –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ —Ü–≤–µ—Ç ‚Üí ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª.</li>
            <li><strong>–¶–≤–µ—Ç</strong> –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ —Å–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç—ã/—Ç–∞–±–ª–∏—Ü—ã (–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–∞–∫ –Ω–∞ –±–ª–∞–Ω–∫–∞—Ö).</li>
            <li>–ö–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ —É–¥–∞–ª—è—Ç—å/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ö–æ–º–∞–Ω–¥—ã">
            <button type="button" class="help-thumb-link" data-viewer-src="img/chgk-1.jpg">
              <img class="help-thumb" src="img/chgk-1.jpg" alt="–¢—É—Ä–Ω–∏—Ä ‚Äî –ö–æ–º–∞–Ω–¥—ã" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>2) üéÆ –ò–≥—Ä–∞</h3>
          <ul>
            <li>–ó–∞–¥–∞–π—Ç–µ <strong>–≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç—É—Ä–µ</strong> –∏ <strong>—Ç—É—Ä–æ–≤ –≤ –∏–≥—Ä–µ</strong>.</li>
            <li><strong>üéÆ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</strong> ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—É—Ä–æ–≤ (—É–¥–æ–±–Ω–æ –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–∞).</li>
            <li>–ú–æ–∂–Ω–æ –∏–≥—Ä–∞—Ç—å –∏ ¬´–æ–¥–∏–Ω–æ—á–Ω—ã–º–∏ —Ç—É—Ä–∞–º–∏¬ª, –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∏–º–∞—è ¬´–ù–∞—á–∞—Ç—å —Ç—É—Ä¬ª –±–µ–∑ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ò–≥—Ä–∞">
            <button type="button" class="help-thumb-link" data-viewer-src="img/chgk-2.jpg">
              <img class="help-thumb" src="img/chgk-2.jpg" alt="–¢—É—Ä–Ω–∏—Ä ‚Äî –ò–≥—Ä–∞" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>3) ‚úÖ –¢–µ–∫—É—â–∏–π —Ç—É—Ä</h3>
          <ul>
            <li><strong>–ù–∞—á–∞—Ç—å —Ç—É—Ä</strong> ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–≤–æ–¥ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º.</li>
            <li><strong>–ß–µ–∫–±–æ–∫—Å—ã</strong> ‚Äî –æ—Ç–º–µ—á–∞–π—Ç–µ –≤–∑—è—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã; –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏–¥—ë—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</li>
            <li><strong>‚è±Ô∏è –í–æ–ø—Ä–æ—Å</strong> ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞.</li>
            <li><strong>–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç—É—Ä</strong> ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ç—É—Ä –≤ –∏—Å—Ç–æ—Ä–∏—é.</li>
          </ul>
          <h4>üéπ –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –≤ —Ç–∞–π–º–µ—Ä–µ</h4>
          <ul>
            <li><strong>–ü—Ä–æ–±–µ–ª</strong> ‚Äî —Å—Ç–∞—Ä—Ç/–ø–∞—É–∑–∞/–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</li>
            <li><strong>Enter</strong> ‚Äî —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</li>
            <li><strong>Backspace</strong> ‚Äî –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –¢–µ–∫—É—â–∏–π —Ç—É—Ä">
            <button type="button" class="help-thumb-link" data-viewer-src="img/chgk-3.jpg">
              <img class="help-thumb" src="img/chgk-3.jpg" alt="–¢—É—Ä–Ω–∏—Ä ‚Äî –¢–µ–∫—É—â–∏–π —Ç—É—Ä" loading="lazy">
            </button>
          </div>

          <h4>üì∑ –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–∞–π–º–µ—Ä–∞</h4>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –¢–∞–π–º–µ—Ä">
            <button type="button" class="help-thumb-link" data-viewer-src="img/timer-1.jpg">
              <img class="help-thumb" src="img/timer-1.jpg" alt="–¢–∞–π–º–µ—Ä ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>4) üóÇÔ∏è –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤</h3>
          <ul>
            <li>–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ —Ç—É—Ä—ã.</li>
            <li>–ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å <strong>Edit</strong>, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –Ω–∞–∂–∞—Ç—å <strong>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</strong> ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–µ—Å—á–∏—Ç–∞—é—Ç—Å—è.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤">
            <button type="button" class="help-thumb-link" data-viewer-src="img/chgk-4.jpg">
              <img class="help-thumb" src="img/chgk-4.jpg" alt="–¢—É—Ä–Ω–∏—Ä ‚Äî –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>5) üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
          <ul>
            <li>–¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç—É—Ä–∞ –∏ –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏.</li>
            <li>–ö–ª–∏–∫–∞–π—Ç–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º/–Ω–∞–∑–≤–∞–Ω–∏—è–º (–≥–¥–µ –¥–æ—Å—Ç—É–ø–Ω–æ), —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ —Ç—É—Ä–∞–º.</li>
            <li><strong>–≠–∫—Å–ø–æ—Ä—Ç –∏–≥—Ä—ã (TSV)</strong> –∏ <strong>TSV (—Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä.)</strong> ‚Äî —É–¥–æ–±–Ω—ã –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ Excel/Google Sheets.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã">
            <button type="button" class="help-thumb-link" data-viewer-src="img/chgk-5.jpg">
              <img class="help-thumb" src="img/chgk-5.jpg" alt="–¢—É—Ä–Ω–∏—Ä ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã" loading="lazy">
            </button>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script src="imageViewer.js"></script>
  <script src="chgk.js"></script>
  <script>
    function toggleHeaderCollapse() {
      const header = document.getElementById('pageHeader');
      if (!header) return;
      header.classList.toggle('collapsed');
      const btn = header.querySelector('.header-collapse-btn');
      if (btn) btn.textContent = header.classList.contains('collapsed') ? '+' : '‚àí';
    }
  </script>
</body>
</html>
