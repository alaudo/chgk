<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ß–ì–ö: –ü–µ—Ä–µ–º–µ—à–∫–∞</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ü¶â</text></svg>">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header help-left" id="pageHeader">
      <button class="help-btn" onclick="openHelp()" title="–ü–æ–º–æ—â—å">‚ùì</button>
      <button class="collapse-btn header-collapse-btn" type="button" onclick="toggleHeaderCollapse()" title="–°–≤–µ—Ä–Ω—É—Ç—å">‚àí</button>
      <h1>ü¶â –ß–ì–ö: –ü–µ—Ä–µ–º–µ—à–∫–∞</h1>
      <nav class="header-nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
        <a href="index.html">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a>
        <span class="header-nav-sep">|</span>
        <a href="peremeshki.html" aria-current="page">–ü–µ—Ä–µ–º–µ—à–∫–∞</a>
        <span class="header-nav-sep">|</span>
        <a href="chgk.html">–¢—É—Ä–Ω–∏—Ä</a>
        <span class="header-nav-sep">|</span>
        <a href="timer.html">–¢–∞–π–º–µ—Ä</a>
      </nav>
      <div class="header-body">
        <p class="subtitle">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ª—É—á–∞–π–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ —É—á—ë—Ç–∞ –æ—á–∫–æ–≤</p>
        <img class="page-main-image" src="peremeshki.png" alt="–ß–ì–ö: –ü–µ—Ä–µ–º–µ—à–∫–∞">
      </div>
    </header>

    <!-- Warning Container -->
    <div id="warningContainer" class="warning-container"></div>

    <!-- Main Content -->
    <div class="main-content">
      
      <!-- Players Section -->
      <section class="section" id="playersSection">
        <div class="section-header">
          <h2>–ò–≥—Ä–æ–∫–∏</h2>
          <button class="collapse-btn" onclick="toggleSection('playersSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="player-input">
            <input 
              type="text" 
              id="playerNameInput" 
              placeholder="–ò–º—è –∏–≥—Ä–æ–∫–∞" 
              class="input">
            <label class="checkbox-label">
              <input type="checkbox" id="isCaptainCheck" onchange="toggleTeamNameInput()">
              –ö–∞–ø–∏—Ç–∞–Ω
            </label>
            <div id="captainInputs" style="display: none;">
              <input 
                type="text" 
                id="teamNameInput" 
                placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã" 
                class="input input-small">
              <input 
                type="color" 
                id="teamColorInput" 
                value="#3b82f6"
                class="color-input"
                title="–¶–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã">
            </div>
            <button id="addPlayerBtn" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
          <div id="playersList" class="players-list"></div>
        </div>
      </section>

      <!-- Game Section -->
      <section class="section" id="gameSection">
        <div class="section-header">
          <h2>üéÆ –ò–≥—Ä–∞</h2>
          <button class="collapse-btn" onclick="toggleSection('gameSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="settings-row">
            <label for="questionsPerRound">–í–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç—É—Ä–µ:</label>
            <input type="number" id="questionsPerRound" min="1" max="50" value="12" class="input-small">
          </div>
            <div class="settings-row">
              <label for="gameRoundsInput">–¢—É—Ä–æ–≤ –≤ –∏–≥—Ä–µ:</label>
              <input type="number" id="gameRoundsInput" min="1" max="50" value="5" class="input-small">
            </div>
          <div class="settings-row">
            <label class="checkbox-label">
              <input type="checkbox" id="allowManualMove">
              –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –≤—Ä—É—á–Ω—É—é
            </label>
          </div>
          <div class="settings-row">
            <label class="checkbox-label">
              <input type="checkbox" id="hideCaptainsCheck" onchange="handleHideCaptainsChange()">
              –°–∫—Ä—ã—Ç—å –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            </label>
          </div>
          <div id="gameInfo" class="game-info"></div>
          <div id="gameControls" class="actions">
            <div class="game-presets">
              <p class="presets-label">–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:</p>
              <div class="preset-buttons">
                <button class="btn btn-secondary btn-small" onclick="setGamePreset(3, 12)">3 —Ç—É—Ä–∞ √ó 12 –≤–æ–ø—Ä–æ—Å–æ–≤</button>
                <button class="btn btn-secondary btn-small" onclick="setGamePreset(6, 6)">6 —Ç—É—Ä–æ–≤ √ó 6 –≤–æ–ø—Ä–æ—Å–æ–≤</button>
              </div>
            </div>

            <button id="startGameBtn" class="btn btn-primary">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</button>
          </div>
          <div class="actions" style="margin-top: 1rem;">
            <button id="generateTeamsBtn" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã</button>
            <button id="reshuffleBtn" class="btn btn-secondary">–ü–µ—Ä–µ–º–µ—à–∞—Ç—å</button>
          </div>
        </div>
      </section>

      <!-- Current Round Section -->
      <section id="currentRoundSection" class="section">
        <div class="section-header">
          <h2 id="currentRoundTitle">–¢–µ–∫—É—â–∏–π —Ç—É—Ä</h2>
          <button class="collapse-btn" onclick="toggleSection('currentRoundSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="round-header-bar">
            <div class="round-header-actions">
              <button id="reshuffleCurrentBtn" class="btn btn-secondary btn-small" style="display: none;">üîÄ –ü–µ—Ä–µ–º–µ—à–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Ç—É—Ä</button>
              <button id="addUnassignedPlayersBtn" class="btn btn-secondary btn-small" style="display: none;">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö</button>
              <button id="questionTimerBtn" class="btn btn-primary btn-small" style="display: none;">‚è±Ô∏è –¢–∞–π–º–µ—Ä</button>
            </div>
            <div class="view-switcher">
              <button id="viewTeamsBtn" class="btn btn-secondary active">–°–æ—Å—Ç–∞–≤—ã</button>
              <button id="viewScoringBtn" class="btn btn-secondary">–û—á–∫–∏</button>
            </div>
          </div>
          <div id="currentRoundContainer" class="current-round-container"></div>
          <div class="actions" id="roundActions">
            <button id="finalizeRoundBtn" class="btn btn-success">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç—É—Ä</button>
            <button id="saveEditedRoundBtn" class="btn btn-success" style="display: none;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            <button id="cancelEditRoundBtn" class="btn btn-secondary" style="display: none;">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </section>

      <!-- Rounds History -->
      <section class="section" id="historySection">
        <div class="section-header">
          <h2>–ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤</h2>
          <button class="collapse-btn" onclick="toggleSection('historySection')">‚àí</button>
        </div>
        <div class="section-body">
          <div id="roundsHistory" class="rounds-history"></div>
        </div>
      </section>

      <!-- Leaderboard -->
      <section class="section" id="leaderboardSection">
        <div class="section-header">
          <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
          <button class="collapse-btn" onclick="toggleSection('leaderboardSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="leaderboard-tabs">
            <button id="playersTabBtn" class="tab-btn active" onclick="switchLeaderboardTab('players')">–ò–≥—Ä–æ–∫–∏</button>
            <button id="teamsTabBtn" class="tab-btn" onclick="switchLeaderboardTab('teams')">–ö–æ–º–∞–Ω–¥—ã</button>
            <button id="drawTabBtn" class="tab-btn" onclick="switchLeaderboardTab('draw')">–ñ–µ—Ä–µ–±—å—ë–≤–∫–∞</button>
          </div>
          <div id="leaderboard" class="leaderboard"></div>
        </div>
      </section>

      <!-- Actions -->
      <section class="section" id="actionsSection">
        <div class="section-header">
          <h2>–î–µ–π—Å—Ç–≤–∏—è</h2>
          <button class="collapse-btn" onclick="toggleSection('actionsSection')">‚àí</button>
        </div>
        <div class="section-body">
          <div class="actions">
            <button id="undoBtn" class="btn btn-secondary">–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç—É—Ä</button>
            <button id="resetGameBtn" class="btn btn-warning">–°–±—Ä–æ—Å–∏—Ç—å —Ç—É—Ä—ã (–æ—Å—Ç–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤)</button>
            <button id="exportBtn" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç</button>
            <button id="importBtn" class="btn btn-secondary">–ò–º–ø–æ—Ä—Ç</button>
            <button id="exportPlayersBtn" class="btn btn-secondary">–≠–∫—Å–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–æ–≤</button>
            <button id="importPlayersBtn" class="btn btn-secondary">–ò–º–ø–æ—Ä—Ç –∏–≥—Ä–æ–∫–æ–≤</button>
            <button id="resetBtn" class="btn btn-danger">–ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å</button>
            <input type="file" id="importFile" accept=".json" style="display: none;">
            <input type="file" id="importPlayersFile" accept=".txt,text/plain" style="display: none;">
          </div>
        </div>
      </section>

    </div>

    <!-- Footer -->
    <footer class="footer">
      <button type="button" class="footer-toggle" data-footer-toggle aria-expanded="false" aria-controls="footerText">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
      <p id="footerText" class="footer-text">–ß–ì–ö: –ü–µ—Ä–µ–º–µ—à–∫–∞ | (c) Alexander Galkin, Hamburg | <span class="footer-long" data-footer-long>–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä</span> | Telegram: <a href="https://t.me/alaudo" target="_blank" rel="noopener noreferrer">@alaudo</a></p>
    </footer>
  </div>

  <!-- Help Modal -->
  <div class="modal-overlay" id="helpModal" style="display: none;" onclick="closeHelp()">
    <div class="modal-content help-modal-content" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</h2>
        <button class="modal-close" onclick="closeHelp()">&times;</button>
      </div>
      <div class="modal-body help-modal-body">
        <section class="help-section">
          <h3>üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç</h3>
          <ol>
            <li>–î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä–æ–∫–æ–≤. –û—Ç–º–µ—á–∞–π—Ç–µ –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ ‚Äî –¥–ª—è –Ω–∏—Ö –∑–∞–¥–∞—é—Ç—Å—è <strong>–Ω–∞–∑–≤–∞–Ω–∏–µ</strong> –∏ <strong>—Ü–≤–µ—Ç</strong> –∫–æ–º–∞–Ω–¥—ã (—Ü–≤–µ—Ç —É–¥–æ–±–Ω–æ –≤—ã–±—Ä–∞—Ç—å –∫–∞–∫ –Ω–∞ –±—É–º–∞–∂–∫–∞—Ö/–±–ª–∞–Ω–∫–∞—Ö –Ω–∞ –∏–≥—Ä–µ).</li>
            <li>–í—ã–±–µ—Ä–∏—Ç–µ <strong>–≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç—É—Ä–µ</strong> –∏ <strong>—Ç—É—Ä–æ–≤ –≤ –∏–≥—Ä–µ</strong>, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ <strong>¬´–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É¬ª</strong> (–∏–ª–∏ —Ä–∞–±–æ—Ç–∞–π—Ç–µ –±–µ–∑ —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã, –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞—è –∫–æ–º–∞–Ω–¥—ã –∏ –∑–∞–≤–µ—Ä—à–∞—è —Ç—É—Ä—ã).</li>
            <li>–ù–∞–∂–º–∏—Ç–µ <strong>¬´–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã¬ª</strong> –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∞ <strong>¬´–ü–µ—Ä–µ–º–µ—à–∞—Ç—å¬ª</strong> ‚Äî —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.</li>
            <li>–ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –≤–∫–ª—é—á–∏—Ç–µ <strong>¬´–†–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –≤—Ä—É—á–Ω—É—é¬ª</strong> –∏ –ø–æ–ø—Ä–∞–≤—å—Ç–µ —Å–æ—Å—Ç–∞–≤—ã –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º. –û–ø—Ü–∏—è <strong>¬´–°–∫—Ä—ã—Ç—å –∫–∞–ø–∏—Ç–∞–Ω–æ–≤¬ª</strong> –ø–æ–ª–µ–∑–Ω–∞, –µ—Å–ª–∏ –∫–∞–ø–∏—Ç–∞–Ω—ã ¬´—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ¬ª.</li>
            <li>–í <strong>¬´–¢–µ–∫—É—â–µ–º —Ç—É—Ä–µ ‚Üí –û—á–∫–∏¬ª</strong> –æ—Ç–º–µ—á–∞–π—Ç–µ –≤–∑—è—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã. –ï—Å–ª–∏ —ç–∫—Ä–∞–Ω –≤–∏–¥–µ–Ω –≤—Å–µ–º ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>—Ç–∞–π–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞</strong>: –æ–Ω –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ—á–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –ø—Ä—è–º–æ –≤ –Ω—ë–º.</li>
            <li>–ó–∞–≤–µ—Ä—à–∞–π—Ç–µ —Ç—É—Ä—ã, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é, –∞ –∏—Ç–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—á–∏—Ç–∞–ª–∏—Å—å –≤ —Ä–∞–∑–¥–µ–ª–µ <strong>¬´–†–µ–∑—É–ª—å—Ç–∞—Ç—ã¬ª</strong>. –î–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>—ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç</strong> –≤ —Å–µ–∫—Ü–∏–∏ ¬´–î–µ–π—Å—Ç–≤–∏—è¬ª.</li>
          </ol>
          <p><strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑–æ–ø–∞—Å–Ω–∞, –Ω–æ –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞ —É–¥–∞–ª–∏—Ç –∏–≥—Ä—É.</p>
        </section>

        <section class="help-section">
          <h3>1) üë• –ò–≥—Ä–æ–∫–∏</h3>
          <ul>
            <li><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ:</strong> –≤–≤–µ–¥–∏—Ç–µ –∏–º—è ‚Üí Enter –∏–ª–∏ ¬´–î–æ–±–∞–≤–∏—Ç—å¬ª.</li>
            <li><strong>–ö–∞–ø–∏—Ç–∞–Ω:</strong> –æ—Ç–º–µ—Ç—å—Ç–µ ¬´–ö–∞–ø–∏—Ç–∞–Ω¬ª –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ (–∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ üëë/üë§ –≤ —Å–ø–∏—Å–∫–µ).</li>
            <li><strong>–ù–∞–∑–≤–∞–Ω–∏–µ/—Ü–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã:</strong> –∑–∞–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–ø–∏—Ç–∞–Ω–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ—Å—Ç–∞–≤–∞—Ö, –∂–µ—Ä–µ–±—å—ë–≤–∫–µ –∏ —Ç–∞–±–ª–∏—Ü–∞—Ö.</li>
            <li><strong>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏:</strong> –∫–ª–∏–∫ –ø–æ –∏–º–µ–Ω–∏ ‚Üí Enter —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å, Esc –æ—Ç–º–µ–Ω–∏—Ç—å.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ò–≥—Ä–æ–∫–∏">
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-1.jpg">
              <img class="help-thumb" src="img/peremeshki-1.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –ò–≥—Ä–æ–∫–∏" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>2) üéÆ –ò–≥—Ä–∞</h3>
          <ul>
            <li><strong>–í–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ç—É—Ä–µ</strong> ‚Äî —Ä–∞–∑–º–µ—Ä —Ç—É—Ä–∞ (–æ–±—ã—á–Ω–æ 12).</li>
            <li><strong>–¢—É—Ä–æ–≤ –≤ –∏–≥—Ä–µ</strong> ‚Äî –¥–ª—è —Ä–µ–∂–∏–º–∞ ¬´–ò–≥—Ä–∞¬ª (–≤—Å–µ —Ç—É—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ).</li>
            <li><strong>–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞</strong> ‚Äî –ø—Ä–µ—Å–µ—Ç—ã ¬´3√ó12¬ª –∏ ¬´6√ó6¬ª.</li>
            <li><strong>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã</strong> ‚Äî —Å–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.</li>
            <li><strong>–ü–µ—Ä–µ–º–µ—à–∞—Ç—å</strong> ‚Äî –Ω–æ–≤–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–Ω–µ –º–µ–Ω—è—è —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤).</li>
            <li><strong>–†–∞–∑—Ä–µ—à–∏—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤—Ä—É—á–Ω—É—é</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –∏–≥—Ä–æ–∫–æ–≤ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏ –≤ —Å–æ—Å—Ç–∞–≤–µ —Ç—É—Ä–∞.</li>
            <li><strong>–°–∫—Ä—ã—Ç—å –∫–∞–ø–∏—Ç–∞–Ω–æ–≤</strong> ‚Äî —É–±–∏—Ä–∞–µ—Ç –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ –∏–∑ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –∂–µ—Ä–µ–±—å—ë–≤–∫–∏ (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è ¬´—Ñ–µ–π–∫–æ–≤—ã—Ö –∫–∞–ø–∏—Ç–∞–Ω–æ–≤¬ª).</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ò–≥—Ä–∞">
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-2-1.jpg">
              <img class="help-thumb" src="img/peremeshki-2-1.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –ò–≥—Ä–∞" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>3) ‚úÖ –¢–µ–∫—É—â–∏–π —Ç—É—Ä</h3>
          <ul>
            <li><strong>–°–æ—Å—Ç–∞–≤—ã</strong> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–∞–Ω–¥ (–∏ —Ä—É—á–Ω—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ).</li>
            <li><strong>–û—á–∫–∏</strong> ‚Äî –æ—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã —á–µ–∫–±–æ–∫—Å–∞–º–∏ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º.</li>
            <li><strong>–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç—É—Ä</strong> ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç—É—Ä –≤ –∏—Å—Ç–æ—Ä–∏—é.</li>
            <li><strong>‚è±Ô∏è –¢–∞–π–º–µ—Ä –≤–æ–ø—Ä–æ—Å–∞</strong> ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä; —Å–ª–µ–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–ø—Ä–∞–≤–∞ –º–∏–Ω–∏-—Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–º–µ—Ç–æ–∫.</li>
          </ul>
          <h4>üéπ –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –≤ —Ç–∞–π–º–µ—Ä–µ</h4>
          <ul>
            <li><strong>–ü—Ä–æ–±–µ–ª</strong> ‚Äî —Å—Ç–∞—Ä—Ç/–ø–∞—É–∑–∞/–ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å</li>
            <li><strong>Enter</strong> ‚Äî —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</li>
            <li><strong>Backspace</strong> ‚Äî –ø—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –¢–µ–∫—É—â–∏–π —Ç—É—Ä">
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-3-1.jpg">
              <img class="help-thumb" src="img/peremeshki-3-1.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –¢–µ–∫—É—â–∏–π —Ç—É—Ä (1)" loading="lazy">
            </button>
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-3-2.jpg">
              <img class="help-thumb" src="img/peremeshki-3-2.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –¢–µ–∫—É—â–∏–π —Ç—É—Ä (2)" loading="lazy">
            </button>
          </div>

          <h4>üì∑ –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–∞–π–º–µ—Ä–∞</h4>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –¢–∞–π–º–µ—Ä">
            <button type="button" class="help-thumb-link" data-viewer-src="img/timer-1.jpg">
              <img class="help-thumb" src="img/timer-1.jpg" alt="–¢–∞–π–º–µ—Ä ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>4) üóÇÔ∏è –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤</h3>
          <ul>
            <li>–ö–∞–∂–¥—ã–π –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π —Ç—É—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ.</li>
            <li>–ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å <strong>Edit</strong>, –ø–æ–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç—ã –∏ –Ω–∞–∂–∞—Ç—å <strong>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</strong> ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞—é—Ç—Å—è.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤">
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-4.jpg">
              <img class="help-thumb" src="img/peremeshki-4.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –ò—Å—Ç–æ—Ä–∏—è —Ç—É—Ä–æ–≤" loading="lazy">
            </button>
          </div>
        </section>

        <section class="help-section">
          <h3>5) üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
          <ul>
            <li><strong>–ò–≥—Ä–æ–∫–∏:</strong> —Ä–µ–π—Ç–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏–≥—Ä–æ–∫—É (–∫–ª–∏–∫ –ø–æ –∏–º–µ–Ω–∏).</li>
            <li><strong>–ö–æ–º–∞–Ω–¥—ã:</strong> —Å—É–º–º–∞—Ä–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∫–æ–º–∞–Ω–¥–∞–º –∫–∞–ø–∏—Ç–∞–Ω–æ–≤ (–∫–ª–∏–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–æ–º–∞–Ω–¥—ã ‚Äî –¥–µ—Ç–∞–ª–∏).</li>
            <li><strong>–ñ–µ—Ä–µ–±—å—ë–≤–∫–∞:</strong> –∫—Ç–æ —Å –∫–µ–º –∏–≥—Ä–∞–ª –ø–æ —Ç—É—Ä–∞–º (–≤ —Ä–µ–∂–∏–º–µ ¬´–ò–≥—Ä–∞¬ª –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏ –±—É–¥—É—â–∏–µ —Ç—É—Ä—ã).</li>
            <li><strong>–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç</strong> –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–µ–∫—Ü–∏–∏ ¬´–î–µ–π—Å—Ç–≤–∏—è¬ª (–≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã) –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏.</li>
          </ul>
          <div class="help-thumbs" aria-label="–°–∫—Ä–∏–Ω—à–æ—Ç—ã: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã">
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-5.jpg">
              <img class="help-thumb" src="img/peremeshki-5.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã" loading="lazy">
            </button>
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-5-2.jpg">
              <img class="help-thumb" src="img/peremeshki-5-2.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (2)" loading="lazy">
            </button>
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-5-3.jpg">
              <img class="help-thumb" src="img/peremeshki-5-3.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (3)" loading="lazy">
            </button>
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-5-4.jpg">
              <img class="help-thumb" src="img/peremeshki-5-4.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (4)" loading="lazy">
            </button>
            <button type="button" class="help-thumb-link" data-viewer-src="img/peremeshki-5-5.jpg">
              <img class="help-thumb" src="img/peremeshki-5-5.jpg" alt="–ü–µ—Ä–µ–º–µ—à–∫–∞ ‚Äî –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (5)" loading="lazy">
            </button>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="imageViewer.js"></script>
  <script src="footer.js"></script>
  <script src="storage.js"></script>
  <script src="algorithms.js"></script>
  <script src="app.js"></script>
  <script src="ui.js"></script>
  <script>
    // Initialize app on page load
    document.addEventListener('DOMContentLoaded', () => {
      appState.init();
      
      // Restore form values
      document.getElementById('questionsPerRound').value = appState.settings.questionsPerRound || 12;
      document.getElementById('gameRoundsInput').value = appState.settings.gameRounds || 5;
      
      // Restore checkbox states
      if (document.getElementById('hideCaptainsCheck')) {
        document.getElementById('hideCaptainsCheck').checked = appState.settings.hideCaptains || false;
      }
      if (document.getElementById('allowManualMove')) {
        document.getElementById('allowManualMove').checked = appState.uiState.allowManualMove || false;
      }
      
      initUI();
    });

    // Flush debounced saves when the user reloads/navigates away.
    window.addEventListener('beforeunload', () => {
      try {
        appState.saveImmediate();
      } catch (e) {
        // ignore
      }
    });

    function toggleHeaderCollapse() {
      const header = document.getElementById('pageHeader');
      if (!header) return;
      header.classList.toggle('collapsed');
      const btn = header.querySelector('.header-collapse-btn');
      if (btn) btn.textContent = header.classList.contains('collapsed') ? '+' : '‚àí';
    }
  </script>
</body>
</html>
